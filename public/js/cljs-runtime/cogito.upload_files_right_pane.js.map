{"version":3,"sources":["cogito/upload_files_right_pane.cljs"],"mappings":";AAIA,mDAAA,nDAAMA;AAAN,AACE,IAAMC,QAAM,gDAAA,hDAACC;IACPC,UAAQ,gDAAA,hDAACD;AADf,AAEE;AAAA,AAAA,0FAAA,2DAAA,mFAAA,yHAAA,mFAAA,yHAAA,+BAAA,mFAAA,2FAAA,gEAAA,mFAAA,8DAAA,mFAAA,kJAAA,mBAAA,mFAAA,sDAAA,2CAAA,wDAAA,yGAAA,qDAAA,OAAA,mEAAA,yCAAA,sDAAA,AAAAE,uBAAA,+DAAA,WAAAC,jFAWqBJ;AAXrB,AAYyB,OAACM,sBAAON,MAAM,AAAA,AAAAI;2BAZvC,mFAAA,8DAAA,mFAAA,kJAAA,kBAAA,mFAAA,6DAAA,2CAAA,wDAAA,2HAAA,mEAAA,kCAAA,oDAAA,KAAA,sDAAA,AAAAD,yBAAA,+DAAA,WAAAE,nFAmBwBH;AAnBxB,AAoB4B,OAACI,sBAAOJ,QAAQ,AAAA,AAAAG;2BApB5C,mFAAA,yGAAA,mFAAA,yDAAA,2CAAA,wDAAA,wFAAA,6DAAA;AAAA,AAwByB,8BAAA,mFAAA,1GAACE;WAxB1B,iBAAA,mFAAA,yDAAA,2CAAA,wDAAA,8FAAA,6DAAA;AAAA,AA2ByB,GAAM,EAAK,cAAA,AAAAJ,dAACK,8BAAKR,aAAO,cAAA,AAAAG,dAACK,8BAAKN;AAA9B,AACC,8BAAA,mFAAA,mGAAA,2CAAA,sDAAA,AAAAC,uBAAA,yDAAA,AAAAA,9XAACI,8TAAqDP,gFAAgBE;;AADvE;;GA3BzB,+KAAA,jHA6BwB,EAAI,uBAAA,AAAAC,vBAACM,uCAAQT,aAAO,uBAAA,AAAAG,vBAACM,uCAAQP;;;AAGzD,yDAAA,zDAAMQ;AAAN,AACE,IAAMC,gBAAc,sDAAA,mFAAA,zIAACC;IACfC,oBAAkB,sDAAA,mFAAA,zIAACD;AADzB,AAEE;AAAA,AAAA,0FAAA,iGAEG,kBAAA,AAAAT,oCAAA,4IAAA,kBAAA,AAAAA,gCAAA,mFAAA,mDAAA,mFAAA,yHAAA,mFAAA,6PAAA,mFAAA,6qBAAA,mFAAA,mDAAA,2CAAA,wDAAA,+NAAA,AAAA,mFAAA,mDAAA,2CAAA,wDAAA,gEAAA,mFAAA,0EAAA,mFAAA,wEAAA,2BAAA,mFAAA,gEAAA,30FACGU,uGACAd,2FAEAY,8iBAG0C,AAAA,4FAAA,AAAAR,gBAAYQ,sMAEpD,CAAA,2NAAA,lKAAkB,AAAqB,KAAAG,KAAU,AAAA,gGAAA,AAAAX,gBAAeQ,mDACrD,6UAAA,3TAAI,AAAA,mFAAA,AAAAR,gBAAQQ,iBAAe,wLAAA,3IAAK,AAACI,WAAc,sHAAA,rHAAG,AAAA,mFAAA,AAAAZ,gBAAQQ,0YAEtE,AAAA,uFAAA,AAAAR,gBAAWQ","names":["cogito.upload-files-right-pane/text-creator-form","title","reagent.core.atom","content","cljs.core/deref","p1__11516#","p1__11518#","cljs.core/reset!","re-frame.core/dispatch","cljs.core/seq","cljs.core/empty?","cogito.upload-files-right-pane/upload-files-right-pane","selected-file","re_frame.core.subscribe","show-text-creator","js/Date","js/Math.round"],"sourcesContent":["(ns cogito.upload-files-right-pane\n  (:require [re-frame.core :as rf]\n            [reagent.core :as r]))\n\n(defn text-creator-form []\n  (let [title (r/atom \"\")\n        content (r/atom \"\")]\n    (fn []\n      [:div.p-4\n       [:div.mb-4.pb-4.border-b.border-gray-200\n        [:h3.text-lg.font-semibold.text-gray-900 \"Create New Text File\"]\n        [:p.text-sm.text-gray-500 \"Enter a filename and paste your content below\"]]\n       \n       [:div.mb-4\n        [:label.block.text-sm.font-medium.text-gray-700.mb-2 \"Filename\"]\n        [:input {:class \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                 :type \"text\"\n                 :placeholder \"Enter filename (e.g., my-document.txt)\"\n                 :value @title\n                 :on-change #(reset! title (-> % .-target .-value))}]]\n       \n       [:div.mb-4\n        [:label.block.text-sm.font-medium.text-gray-700.mb-2 \"Content\"]\n        [:textarea {:class \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm\"\n                    :placeholder \"Paste your text content here...\"\n                    :rows 20\n                    :value @content\n                    :on-change #(reset! content (-> % .-target .-value))}]]\n       \n       [:div.flex.justify-end.space-x-3\n        [:button {:class \"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-md\"\n                  :on-click #(rf/dispatch [:upload-files/hide-text-creator])}\n         \"Cancel\"]\n        [:button {:class \"px-4 py-2 text-sm bg-green-500 text-white rounded-md hover:bg-green-600 disabled:opacity-50\"\n                  :on-click #(when (and (seq @title) (seq @content))\n                              (rf/dispatch [:upload-files/create-text-file {:title @title :content @content}]))\n                  :disabled (or (empty? @title) (empty? @content))}\n         \"Create File\"]]])))\n\n(defn upload-files-right-pane []\n  (let [selected-file (rf/subscribe [:upload-files/selected-file])\n        show-text-creator (rf/subscribe [:upload-files/show-text-creator?])]\n    (fn []\n      [:div.h-full.overflow-y-auto\n       (cond\n         @show-text-creator\n         [text-creator-form]\n         \n         @selected-file\n         [:div\n          [:div.mb-4.pb-4.border-b.border-gray-200\n           [:h3.text-lg.font-semibold.text-gray-900 (:filename @selected-file)]\n           [:p.text-sm.text-gray-500 \n            (str \"Uploaded: \" (.toLocaleDateString (js/Date. (:uploaded_at @selected-file)))\n                 \" \u2022 \" (if (:size @selected-file) (str (js/Math.round (/ (:size @selected-file) 1024)) \"KB\") \"\"))]]\n          [:div {:class \"bg-gray-50 rounded-lg p-4 font-mono text-sm whitespace-pre-wrap overflow-auto\"}\n           (:content @selected-file)]]\n         \n         :else\n         [:div {:class \"flex items-center justify-center h-full text-gray-500\"}\n          [:div.text-center\n           [:p.text-lg.mb-2 \"No file selected\"]\n           [:p.text-sm \"Select a file from the left panel to view its content\"]]])])))"]}