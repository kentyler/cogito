goog.provide('cogito.story_arc');
/**
 * Real data from meeting jms-dxrf-ezk analysis
 */
cogito.story_arc.sample_meeting_data = new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"meeting-id","meeting-id",1530187103),"f3730dc1-550c-4886-ad9c-ace1aa07edca",new cljs.core.Keyword(null,"meeting-url","meeting-url",1371135342),"https://meet.google.com/jms-dxrf-ezk",new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"turns-analyzed","turns-analyzed",633754868),(205),new cljs.core.Keyword(null,"coherence","coherence",1571988430),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"level","level",1290497552),"low",new cljs.core.Keyword(null,"score","score",-1963588780),0.34], null),new cljs.core.Keyword(null,"flow-stability","flow-stability",-394849859),"dynamic",new cljs.core.Keyword(null,"major-topic-shifts","major-topic-shifts",-1709214332),(61),new cljs.core.Keyword(null,"conversation-phases","conversation-phases",-1792434922),(62),new cljs.core.Keyword(null,"continuous-segments-percent","continuous-segments-percent",835426944),41.7], null),new cljs.core.Keyword(null,"story-arc","story-arc",-807688131),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"narrative","narrative",-1575878033),"A highly dynamic AI experimentation session with rapid topic exploration",new cljs.core.Keyword(null,"arc-type","arc-type",1499706541),"experimental-exploration",new cljs.core.Keyword(null,"energy-level","energy-level",-557974374),"high"], null),new cljs.core.Keyword(null,"story-segments","story-segments",2056175602),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"representative-content","representative-content",566703497),new cljs.core.Keyword(null,"turn-count","turn-count",1105131756),new cljs.core.Keyword(null,"duration","duration",1444101068),new cljs.core.Keyword(null,"energy","energy",129856526),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"key-themes","key-themes",-457832783),new cljs.core.Keyword(null,"phases","phases",1732308818),new cljs.core.Keyword(null,"significance","significance",1996257939),new cljs.core.Keyword(null,"segment-id","segment-id",1810133590)],["Hello Ben! I'm Cogito, an AI assistant in this meeting.",(39),"~8 minutes","building","Opening & AI Introduction",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["meeting setup","AI greeting","initial exploration"], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),(2),(3),(4),(5),(6),(7)], null),"First contact with AI system",(1)]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"representative-content","representative-content",566703497),new cljs.core.Keyword(null,"turn-count","turn-count",1105131756),new cljs.core.Keyword(null,"duration","duration",1444101068),new cljs.core.Keyword(null,"energy","energy",129856526),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"key-themes","key-themes",-457832783),new cljs.core.Keyword(null,"phases","phases",1732308818),new cljs.core.Keyword(null,"significance","significance",1996257939),new cljs.core.Keyword(null,"segment-id","segment-id",1810133590)],["hello cogito, what do you know about each of us in this meeting",(89),"~15 minutes","peak","Rapid-Fire AI Testing",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["personal questions to AI","capability testing","rapid topic switches"], null),new cljs.core.PersistentVector(null, 30, 5, cljs.core.PersistentVector.EMPTY_NODE, [(8),(9),(10),(11),(12),(13),(14),(15),(16),(17),(18),(19),(20),(21),(22),(23),(24),(25),(26),(27),(28),(29),(30),(31),(32),(33),(34),(35),(36),(37)], null),"Intensive AI interaction and testing phase",(2)]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"representative-content","representative-content",566703497),new cljs.core.Keyword(null,"turn-count","turn-count",1105131756),new cljs.core.Keyword(null,"duration","duration",1444101068),new cljs.core.Keyword(null,"energy","energy",129856526),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"key-themes","key-themes",-457832783),new cljs.core.Keyword(null,"phases","phases",1732308818),new cljs.core.Keyword(null,"significance","significance",1996257939),new cljs.core.Keyword(null,"segment-id","segment-id",1810133590)],["please use D` for 'D prime'",(61),"~12 minutes","focused","Technical Deep Dive",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["mathematical notation","website sharing","LLM licensing"], null),new cljs.core.PersistentVector(null, 17, 5, cljs.core.PersistentVector.EMPTY_NODE, [(38),(39),(40),(41),(42),(43),(44),(45),(46),(47),(48),(49),(50),(51),(52),(53),(54)], null),"Shift to specific technical discussions",(3)]),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"representative-content","representative-content",566703497),new cljs.core.Keyword(null,"turn-count","turn-count",1105131756),new cljs.core.Keyword(null,"duration","duration",1444101068),new cljs.core.Keyword(null,"energy","energy",129856526),new cljs.core.Keyword(null,"title","title",636505583),new cljs.core.Keyword(null,"key-themes","key-themes",-457832783),new cljs.core.Keyword(null,"phases","phases",1732308818),new cljs.core.Keyword(null,"significance","significance",1996257939),new cljs.core.Keyword(null,"segment-id","segment-id",1810133590)],["Thank you Karl. I'd be happy to facilitate an Evaporating Cloud exercise.",(16),"~5 minutes","organizing","Structured Exercise Attempts",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["evaporating cloud exercise","facilitation attempts","structure introduction"], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [(55),(56),(57),(58),(59),(60),(61),(62)], null),"AI attempting to provide structured facilitation",(4)])], null),new cljs.core.Keyword(null,"key-moments","key-moments",2137407097),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"major-shifts","major-shifts",-2033932328),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"turn","turn",75759344),"Hey. I'm gonna see if I can say hello to CC.",new cljs.core.Keyword(null,"impact","impact",-1581939395),"Initiated AI interaction sequence",new cljs.core.Keyword(null,"similarity-drop","similarity-drop",-1134219830),0.39,new cljs.core.Keyword(null,"timestamp","timestamp",579478971),"early"], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"turn","turn",75759344),"yo, what do you know",new cljs.core.Keyword(null,"impact","impact",-1581939395),"Casual testing of AI capabilities",new cljs.core.Keyword(null,"similarity-drop","similarity-drop",-1134219830),0.27,new cljs.core.Keyword(null,"timestamp","timestamp",579478971),"middle"], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"turn","turn",75759344),"please use D` for 'D prime'",new cljs.core.Keyword(null,"impact","impact",-1581939395),"Technical notation discussion",new cljs.core.Keyword(null,"similarity-drop","similarity-drop",-1134219830),0.16,new cljs.core.Keyword(null,"timestamp","timestamp",579478971),"late"], null)], null),new cljs.core.Keyword(null,"callbacks","callbacks",71591310),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"turn","turn",75759344),"Thank you Karl. I'd be happy to facilitate an Evaporating Cloud exercise.",new cljs.core.Keyword(null,"impact","impact",-1581939395),"AI returning to facilitation role",new cljs.core.Keyword(null,"connects-to","connects-to",-253263731),"earlier facilitation attempts"], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"turn","turn",75759344),"did you get that",new cljs.core.Keyword(null,"impact","impact",-1581939395),"Checking communication/understanding",new cljs.core.Keyword(null,"connects-to","connects-to",-253263731),"ongoing interaction patterns"], null)], null),new cljs.core.Keyword(null,"outliers","outliers",2035365134),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"turn","turn",75759344),"please use D` for 'D prime'",new cljs.core.Keyword(null,"uniqueness","uniqueness",39977361),0.16,new cljs.core.Keyword(null,"why","why",448287271),"Highly specific mathematical notation"], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"turn","turn",75759344),"here is my website",new cljs.core.Keyword(null,"uniqueness","uniqueness",39977361),0.16,new cljs.core.Keyword(null,"why","why",448287271),"Personal resource sharing"], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"turn","turn",75759344),"we want to discuss the licensing of LLMs or Not",new cljs.core.Keyword(null,"uniqueness","uniqueness",39977361),0.17,new cljs.core.Keyword(null,"why","why",448287271),"Legal/business topic emergence"], null)], null)], null)], null);
cogito.story_arc.energy_color = (function cogito$story_arc$energy_color(energy){
var G__10551 = energy;
switch (G__10551) {
case "building":
return "#4ade80";

break;
case "peak":
return "#f59e0b";

break;
case "focused":
return "#3b82f6";

break;
case "organizing":
return "#8b5cf6";

break;
default:
return "#6b7280";

}
});
cogito.story_arc.segment_card = (function cogito$story_arc$segment_card(segment){
return new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.bg-white.rounded-lg.shadow-md.p-4.mb-4.border-l-4","div.bg-white.rounded-lg.shadow-md.p-4.mb-4.border-l-4",-1777756956),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"border-left-color","border-left-color",-1166146583),cogito.story_arc.energy_color(new cljs.core.Keyword(null,"energy","energy",129856526).cljs$core$IFn$_invoke$arity$1(segment))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.flex.justify-between.items-start.mb-2","div.flex.justify-between.items-start.mb-2",-1737971220),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.text-lg.font-semibold.text-gray-800","h3.text-lg.font-semibold.text-gray-800",1648118600),new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(segment)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-sm.text-gray-500","span.text-sm.text-gray-500",-84506544),new cljs.core.Keyword(null,"duration","duration",1444101068).cljs$core$IFn$_invoke$arity$1(segment)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.flex.flex-wrap.gap-2.mb-3","div.flex.flex-wrap.gap-2.mb-3",-628778381),(function (){var iter__5480__auto__ = (function cogito$story_arc$segment_card_$_iter__10575(s__10576){
return (new cljs.core.LazySeq(null,(function (){
var s__10576__$1 = s__10576;
while(true){
var temp__5804__auto__ = cljs.core.seq(s__10576__$1);
if(temp__5804__auto__){
var s__10576__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_(s__10576__$2)){
var c__5478__auto__ = cljs.core.chunk_first(s__10576__$2);
var size__5479__auto__ = cljs.core.count(c__5478__auto__);
var b__10578 = cljs.core.chunk_buffer(size__5479__auto__);
if((function (){var i__10577 = (0);
while(true){
if((i__10577 < size__5479__auto__)){
var theme = cljs.core._nth(c__5478__auto__,i__10577);
cljs.core.chunk_append(b__10578,cljs.core.with_meta(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.px-2.py-1.bg-gray-100.text-gray-700.text-xs.rounded-full","span.px-2.py-1.bg-gray-100.text-gray-700.text-xs.rounded-full",1111534145),theme], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),theme], null)));

var G__10854 = (i__10577 + (1));
i__10577 = G__10854;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__10578),cogito$story_arc$segment_card_$_iter__10575(cljs.core.chunk_rest(s__10576__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__10578),null);
}
} else {
var theme = cljs.core.first(s__10576__$2);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.px-2.py-1.bg-gray-100.text-gray-700.text-xs.rounded-full","span.px-2.py-1.bg-gray-100.text-gray-700.text-xs.rounded-full",1111534145),theme], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),theme], null)),cogito$story_arc$segment_card_$_iter__10575(cljs.core.rest(s__10576__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5480__auto__(new cljs.core.Keyword(null,"key-themes","key-themes",-457832783).cljs$core$IFn$_invoke$arity$1(segment));
})()], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.bg-gray-50.p-3.rounded.mb-3","div.bg-gray-50.p-3.rounded.mb-3",1414274462),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-sm.italic.text-gray-600","p.text-sm.italic.text-gray-600",660697096),"\"",new cljs.core.Keyword(null,"representative-content","representative-content",566703497).cljs$core$IFn$_invoke$arity$1(segment),"\""], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-xs.text-gray-500.mt-1","p.text-xs.text-gray-500.mt-1",-518106140),"Significance: ",new cljs.core.Keyword(null,"significance","significance",1996257939).cljs$core$IFn$_invoke$arity$1(segment)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.flex.justify-between.text-sm.text-gray-500","div.flex.justify-between.text-sm.text-gray-500",-1517996555),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"turn-count","turn-count",1105131756).cljs$core$IFn$_invoke$arity$1(segment))," turns"].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),["Phases ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.first(new cljs.core.Keyword(null,"phases","phases",1732308818).cljs$core$IFn$_invoke$arity$1(segment))),"-",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.last(new cljs.core.Keyword(null,"phases","phases",1732308818).cljs$core$IFn$_invoke$arity$1(segment)))].join('')], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.flex.items-center","span.flex.items-center",-463750193),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.w-2.h-2.rounded-full.mr-1","div.w-2.h-2.rounded-full.mr-1",544794618),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"background-color","background-color",570434026),cogito.story_arc.energy_color(new cljs.core.Keyword(null,"energy","energy",129856526).cljs$core$IFn$_invoke$arity$1(segment))], null)], null)], null),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"energy","energy",129856526).cljs$core$IFn$_invoke$arity$1(segment))," energy"].join('')], null)], null)], null);
});
cogito.story_arc.key_moment_badge = (function cogito$story_arc$key_moment_badge(moment,type){
return new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.bg-blue-50.border.border-blue-200.rounded-lg.p-3.mb-2","div.bg-blue-50.border.border-blue-200.rounded-lg.p-3.mb-2",-22562342),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.flex.justify-between.items-start.mb-1","div.flex.justify-between.items-start.mb-1",2030372230),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-xs.font-medium.text-blue-600.uppercase","span.text-xs.font-medium.text-blue-600.uppercase",706075130),type], null),(cljs.core.truth_(new cljs.core.Keyword(null,"similarity-drop","similarity-drop",-1134219830).cljs$core$IFn$_invoke$arity$1(moment))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-xs.text-gray-500","span.text-xs.text-gray-500",509898811),["Drop: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"similarity-drop","similarity-drop",-1134219830).cljs$core$IFn$_invoke$arity$1(moment))].join('')], null):null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-sm.text-gray-700.mb-1","p.text-sm.text-gray-700.mb-1",1516103644),"\"",new cljs.core.Keyword(null,"turn","turn",75759344).cljs$core$IFn$_invoke$arity$1(moment),"\""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-xs.text-gray-600.italic","p.text-xs.text-gray-600.italic",1255071211),new cljs.core.Keyword(null,"impact","impact",-1581939395).cljs$core$IFn$_invoke$arity$1(moment)], null),(cljs.core.truth_(new cljs.core.Keyword(null,"connects-to","connects-to",-253263731).cljs$core$IFn$_invoke$arity$1(moment))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-xs.text-blue-600.mt-1","p.text-xs.text-blue-600.mt-1",629314934),"\u21B3 ",new cljs.core.Keyword(null,"connects-to","connects-to",-253263731).cljs$core$IFn$_invoke$arity$1(moment)], null):null),(cljs.core.truth_(new cljs.core.Keyword(null,"why","why",448287271).cljs$core$IFn$_invoke$arity$1(moment))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-xs.text-orange-600.mt-1","p.text-xs.text-orange-600.mt-1",-685799575),"\u26A1 ",new cljs.core.Keyword(null,"why","why",448287271).cljs$core$IFn$_invoke$arity$1(moment)], null):null)], null);
});
cogito.story_arc.story_arc_component = (function cogito$story_arc$story_arc_component(){
var data = cogito.story_arc.sample_meeting_data;
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.max-w-4xl.mx-auto.p-6","div.max-w-4xl.mx-auto.p-6",1934393018),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.bg-gradient-to-r.from-blue-500.to-purple-600.text-white.rounded-lg.p-6.mb-6","div.bg-gradient-to-r.from-blue-500.to-purple-600.text-white.rounded-lg.p-6.mb-6",1518715995),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h1.text-2xl.font-bold.mb-2","h1.text-2xl.font-bold.mb-2",-1304898134),"Conversation Story Arc"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-blue-100.mb-4","p.text-blue-100.mb-4",1833963402),new cljs.core.Keyword(null,"narrative","narrative",-1575878033).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"story-arc","story-arc",-807688131).cljs$core$IFn$_invoke$arity$1(data))], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.grid.grid-cols-2.md:grid-cols-4.gap-4.text-center","div.grid.grid-cols-2.md:grid-cols-4.gap-4.text-center",-1995514325),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-2xl.font-bold","div.text-2xl.font-bold",-1769759923),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.Keyword(null,"turns-analyzed","turns-analyzed",633754868)], null))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-sm.text-blue-200","div.text-sm.text-blue-200",935350335),"Turns"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-2xl.font-bold","div.text-2xl.font-bold",-1769759923),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.Keyword(null,"major-topic-shifts","major-topic-shifts",-1709214332)], null))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-sm.text-blue-200","div.text-sm.text-blue-200",935350335),"Topic Shifts"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-2xl.font-bold","div.text-2xl.font-bold",-1769759923),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.Keyword(null,"conversation-phases","conversation-phases",-1792434922)], null))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-sm.text-blue-200","div.text-sm.text-blue-200",935350335),"Phases"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-2xl.font-bold","div.text-2xl.font-bold",-1769759923),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.Keyword(null,"continuous-segments-percent","continuous-segments-percent",835426944)], null))),"%"].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-sm.text-blue-200","div.text-sm.text-blue-200",935350335),"Continuous"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.mb-8","div.mb-8",255255619),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2.text-xl.font-semibold.text-gray-800.mb-4","h2.text-xl.font-semibold.text-gray-800.mb-4",1223436156),"Story Timeline"], null),(function (){var iter__5480__auto__ = (function cogito$story_arc$story_arc_component_$_iter__10711(s__10712){
return (new cljs.core.LazySeq(null,(function (){
var s__10712__$1 = s__10712;
while(true){
var temp__5804__auto__ = cljs.core.seq(s__10712__$1);
if(temp__5804__auto__){
var s__10712__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_(s__10712__$2)){
var c__5478__auto__ = cljs.core.chunk_first(s__10712__$2);
var size__5479__auto__ = cljs.core.count(c__5478__auto__);
var b__10714 = cljs.core.chunk_buffer(size__5479__auto__);
if((function (){var i__10713 = (0);
while(true){
if((i__10713 < size__5479__auto__)){
var segment = cljs.core._nth(c__5478__auto__,i__10713);
cljs.core.chunk_append(b__10714,cljs.core.with_meta(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.segment_card,segment], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"segment-id","segment-id",1810133590).cljs$core$IFn$_invoke$arity$1(segment)], null)));

var G__10878 = (i__10713 + (1));
i__10713 = G__10878;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__10714),cogito$story_arc$story_arc_component_$_iter__10711(cljs.core.chunk_rest(s__10712__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__10714),null);
}
} else {
var segment = cljs.core.first(s__10712__$2);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.segment_card,segment], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"segment-id","segment-id",1810133590).cljs$core$IFn$_invoke$arity$1(segment)], null)),cogito$story_arc$story_arc_component_$_iter__10711(cljs.core.rest(s__10712__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5480__auto__(new cljs.core.Keyword(null,"story-segments","story-segments",2056175602).cljs$core$IFn$_invoke$arity$1(data));
})()], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.grid.md:grid-cols-3.gap-6","div.grid.md:grid-cols-3.gap-6",1272419766),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.text-lg.font-semibold.text-gray-800.mb-3","h3.text-lg.font-semibold.text-gray-800.mb-3",1819014241),"\uD83D\uDD00 Major Topic Shifts"], null),(function (){var iter__5480__auto__ = (function cogito$story_arc$story_arc_component_$_iter__10727(s__10728){
return (new cljs.core.LazySeq(null,(function (){
var s__10728__$1 = s__10728;
while(true){
var temp__5804__auto__ = cljs.core.seq(s__10728__$1);
if(temp__5804__auto__){
var s__10728__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_(s__10728__$2)){
var c__5478__auto__ = cljs.core.chunk_first(s__10728__$2);
var size__5479__auto__ = cljs.core.count(c__5478__auto__);
var b__10730 = cljs.core.chunk_buffer(size__5479__auto__);
if((function (){var i__10729 = (0);
while(true){
if((i__10729 < size__5479__auto__)){
var vec__10738 = cljs.core._nth(c__5478__auto__,i__10729);
var idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10738,(0),null);
var moment = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10738,(1),null);
cljs.core.chunk_append(b__10730,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.key_moment_badge,moment,"topic shift"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),idx], null)));

var G__10883 = (i__10729 + (1));
i__10729 = G__10883;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__10730),cogito$story_arc$story_arc_component_$_iter__10727(cljs.core.chunk_rest(s__10728__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__10730),null);
}
} else {
var vec__10744 = cljs.core.first(s__10728__$2);
var idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10744,(0),null);
var moment = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10744,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.key_moment_badge,moment,"topic shift"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),idx], null)),cogito$story_arc$story_arc_component_$_iter__10727(cljs.core.rest(s__10728__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5480__auto__(cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(cljs.core.vector,cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"key-moments","key-moments",2137407097),new cljs.core.Keyword(null,"major-shifts","major-shifts",-2033932328)], null))));
})()], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.text-lg.font-semibold.text-gray-800.mb-3","h3.text-lg.font-semibold.text-gray-800.mb-3",1819014241),"\uD83D\uDD04 Callback Moments"], null),(function (){var iter__5480__auto__ = (function cogito$story_arc$story_arc_component_$_iter__10749(s__10750){
return (new cljs.core.LazySeq(null,(function (){
var s__10750__$1 = s__10750;
while(true){
var temp__5804__auto__ = cljs.core.seq(s__10750__$1);
if(temp__5804__auto__){
var s__10750__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_(s__10750__$2)){
var c__5478__auto__ = cljs.core.chunk_first(s__10750__$2);
var size__5479__auto__ = cljs.core.count(c__5478__auto__);
var b__10752 = cljs.core.chunk_buffer(size__5479__auto__);
if((function (){var i__10751 = (0);
while(true){
if((i__10751 < size__5479__auto__)){
var vec__10755 = cljs.core._nth(c__5478__auto__,i__10751);
var idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10755,(0),null);
var moment = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10755,(1),null);
cljs.core.chunk_append(b__10752,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.key_moment_badge,moment,"callback"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),idx], null)));

var G__10894 = (i__10751 + (1));
i__10751 = G__10894;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__10752),cogito$story_arc$story_arc_component_$_iter__10749(cljs.core.chunk_rest(s__10750__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__10752),null);
}
} else {
var vec__10770 = cljs.core.first(s__10750__$2);
var idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10770,(0),null);
var moment = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10770,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.key_moment_badge,moment,"callback"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),idx], null)),cogito$story_arc$story_arc_component_$_iter__10749(cljs.core.rest(s__10750__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5480__auto__(cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(cljs.core.vector,cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"key-moments","key-moments",2137407097),new cljs.core.Keyword(null,"callbacks","callbacks",71591310)], null))));
})()], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.text-lg.font-semibold.text-gray-800.mb-3","h3.text-lg.font-semibold.text-gray-800.mb-3",1819014241),"\u26A1 Unique Moments"], null),(function (){var iter__5480__auto__ = (function cogito$story_arc$story_arc_component_$_iter__10776(s__10777){
return (new cljs.core.LazySeq(null,(function (){
var s__10777__$1 = s__10777;
while(true){
var temp__5804__auto__ = cljs.core.seq(s__10777__$1);
if(temp__5804__auto__){
var s__10777__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_(s__10777__$2)){
var c__5478__auto__ = cljs.core.chunk_first(s__10777__$2);
var size__5479__auto__ = cljs.core.count(c__5478__auto__);
var b__10779 = cljs.core.chunk_buffer(size__5479__auto__);
if((function (){var i__10778 = (0);
while(true){
if((i__10778 < size__5479__auto__)){
var vec__10792 = cljs.core._nth(c__5478__auto__,i__10778);
var idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10792,(0),null);
var moment = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10792,(1),null);
cljs.core.chunk_append(b__10779,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.key_moment_badge,moment,"outlier"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),idx], null)));

var G__10906 = (i__10778 + (1));
i__10778 = G__10906;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__10779),cogito$story_arc$story_arc_component_$_iter__10776(cljs.core.chunk_rest(s__10777__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__10779),null);
}
} else {
var vec__10795 = cljs.core.first(s__10777__$2);
var idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10795,(0),null);
var moment = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10795,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.key_moment_badge,moment,"outlier"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),idx], null)),cogito$story_arc$story_arc_component_$_iter__10776(cljs.core.rest(s__10777__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5480__auto__(cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(cljs.core.vector,cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"key-moments","key-moments",2137407097),new cljs.core.Keyword(null,"outliers","outliers",2035365134)], null))));
})()], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.bg-gray-50.rounded-lg.p-6.mt-8","div.bg-gray-50.rounded-lg.p-6.mt-8",957777689),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.text-lg.font-semibold.text-gray-800.mb-3","h3.text-lg.font-semibold.text-gray-800.mb-3",1819014241),"\uD83D\uDCCA Conversation Insights"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.grid.md:grid-cols-2.gap-4","div.grid.md:grid-cols-2.gap-4",389281471),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.font-medium.text-gray-700.mb-2","h4.font-medium.text-gray-700.mb-2",1216412852),"Flow Characteristics"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.text-sm.text-gray-600.space-y-1","ul.text-sm.text-gray-600.space-y-1",-1147603734),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),["\u2022 Coherence: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.Keyword(null,"coherence","coherence",1571988430),new cljs.core.Keyword(null,"level","level",1290497552)], null)))," (",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.Keyword(null,"coherence","coherence",1571988430),new cljs.core.Keyword(null,"score","score",-1963588780)], null))),")"].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),["\u2022 Flow: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"analysis-summary","analysis-summary",-789889178),new cljs.core.Keyword(null,"flow-stability","flow-stability",-394849859)], null)))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),["\u2022 Arc Type: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"story-arc","story-arc",-807688131),new cljs.core.Keyword(null,"arc-type","arc-type",1499706541)], null)))].join('')], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.font-medium.text-gray-700.mb-2","h4.font-medium.text-gray-700.mb-2",1216412852),"Story Pattern"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.text-sm.text-gray-600","p.text-sm.text-gray-600",-1212846130),"This conversation shows a classic \"experimental exploration\" pattern - ","participants actively testing AI capabilities with rapid topic switching, ","followed by attempts at structured facilitation. The high energy and low ","coherence indicate genuine curiosity-driven exploration rather than ","goal-directed discussion."], null)], null)], null)], null)], null);
});
re_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword("story-arc","set-selected-segment","story-arc/set-selected-segment",-271480945),(function (db,p__10805){
var vec__10807 = p__10805;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10807,(0),null);
var segment_id = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10807,(1),null);
return cljs.core.assoc_in(db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"story-arc","story-arc",-807688131),new cljs.core.Keyword(null,"selected-segment","selected-segment",347526010)], null),segment_id);
}));
re_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword("story-arc","toggle-moment-details","story-arc/toggle-moment-details",1744667405),(function (db,p__10810){
var vec__10811 = p__10810;
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10811,(0),null);
var moment_id = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__10811,(1),null);
return cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"story-arc","story-arc",-807688131),new cljs.core.Keyword(null,"expanded-moments","expanded-moments",-103155918)], null),(function (expanded){
if(cljs.core.truth_((expanded.cljs$core$IFn$_invoke$arity$1 ? expanded.cljs$core$IFn$_invoke$arity$1(moment_id) : expanded.call(null,moment_id)))){
return cljs.core.disj.cljs$core$IFn$_invoke$arity$2(expanded,moment_id);
} else {
return cljs.core.conj.cljs$core$IFn$_invoke$arity$2((function (){var or__5002__auto__ = expanded;
if(cljs.core.truth_(or__5002__auto__)){
return or__5002__auto__;
} else {
return cljs.core.PersistentHashSet.EMPTY;
}
})(),moment_id);
}
}));
}));
re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.Keyword("story-arc","selected-segment","story-arc/selected-segment",-1969850104),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([(function (db){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"story-arc","story-arc",-807688131),new cljs.core.Keyword(null,"selected-segment","selected-segment",347526010)], null));
})], 0));
re_frame.core.reg_sub.cljs$core$IFn$_invoke$arity$variadic(new cljs.core.Keyword("story-arc","expanded-moments","story-arc/expanded-moments",-808174932),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([(function (db){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"story-arc","story-arc",-807688131),new cljs.core.Keyword(null,"expanded-moments","expanded-moments",-103155918)], null),cljs.core.PersistentHashSet.EMPTY);
})], 0));
cogito.story_arc.mount_component = (function cogito$story_arc$mount_component(){
return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cogito.story_arc.story_arc_component], null);
});

//# sourceMappingURL=cogito.story_arc.js.map
