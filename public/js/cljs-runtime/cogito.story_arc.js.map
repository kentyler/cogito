{"version":3,"sources":["cogito/story_arc.cljs"],"mappings":"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","names":["cogito.story-arc/sample-meeting-data","cogito.story-arc/energy-color","energy","G__10551","cogito.story-arc/segment-card","segment","iter__5480__auto__","s__10576","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__10578","cljs.core/chunk-buffer","i__10577","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__10575","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","theme","cljs.core/last","cogito.story-arc/key-moment-badge","moment","type","cogito.story-arc/story-arc-component","data","cljs.core.get_in","s__10712","b__10714","i__10713","iter__10711","s__10728","b__10730","i__10729","vec__10738","cljs.core.nth","iter__10727","vec__10744","idx","cljs.core.map_indexed","cljs.core/vector","s__10750","b__10752","i__10751","vec__10755","iter__10749","vec__10770","s__10777","b__10779","i__10778","vec__10792","iter__10776","vec__10795","re_frame.core.reg_event_db","p__10805","vec__10807","db","_","segment-id","cljs.core/assoc-in","p__10810","vec__10811","moment-id","cljs.core.update_in","expanded","cljs.core.disj","cljs.core.conj","or__5002__auto__","re_frame.core.reg_sub","cogito.story-arc/mount-component","cljs.core/chunk-first"],"sourcesContent":["(ns cogito.story-arc\n  (:require [re-frame.core :as rf]\n            [reagent.core :as r]))\n\n(def sample-meeting-data\n  \"Real data from meeting jms-dxrf-ezk analysis\"\n  {:meeting-id \"f3730dc1-550c-4886-ad9c-ace1aa07edca\"\n   :meeting-url \"https://meet.google.com/jms-dxrf-ezk\"\n   :analysis-summary {:turns-analyzed 205\n                     :coherence {:level \"low\" :score 0.34}\n                     :flow-stability \"dynamic\"\n                     :major-topic-shifts 61\n                     :conversation-phases 62\n                     :continuous-segments-percent 41.7}\n   \n   ;; Key story moments extracted from the analysis\n   :story-arc {:narrative \"A highly dynamic AI experimentation session with rapid topic exploration\"\n              :arc-type \"experimental-exploration\"\n              :energy-level \"high\"}\n   \n   ;; Simplified phases grouped into story segments\n   :story-segments \n   [{:segment-id 1\n     :title \"Opening & AI Introduction\"\n     :duration \"~8 minutes\"\n     :phases [1 2 3 4 5 6 7]\n     :turn-count 39\n     :energy \"building\"\n     :key-themes [\"meeting setup\" \"AI greeting\" \"initial exploration\"]\n     :representative-content \"Hello Ben! I'm Cogito, an AI assistant in this meeting.\"\n     :significance \"First contact with AI system\"}\n    \n    {:segment-id 2\n     :title \"Rapid-Fire AI Testing\"\n     :duration \"~15 minutes\" \n     :phases [8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37]\n     :turn-count 89\n     :energy \"peak\"\n     :key-themes [\"personal questions to AI\" \"capability testing\" \"rapid topic switches\"]\n     :representative-content \"hello cogito, what do you know about each of us in this meeting\"\n     :significance \"Intensive AI interaction and testing phase\"}\n    \n    {:segment-id 3\n     :title \"Technical Deep Dive\"\n     :duration \"~12 minutes\"\n     :phases [38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54]\n     :turn-count 61\n     :energy \"focused\"\n     :key-themes [\"mathematical notation\" \"website sharing\" \"LLM licensing\"]\n     :representative-content \"please use D` for 'D prime'\"\n     :significance \"Shift to specific technical discussions\"}\n    \n    {:segment-id 4\n     :title \"Structured Exercise Attempts\" \n     :duration \"~5 minutes\"\n     :phases [55 56 57 58 59 60 61 62]\n     :turn-count 16\n     :energy \"organizing\"\n     :key-themes [\"evaporating cloud exercise\" \"facilitation attempts\" \"structure introduction\"]\n     :representative-content \"Thank you Karl. I'd be happy to facilitate an Evaporating Cloud exercise.\"\n     :significance \"AI attempting to provide structured facilitation\"}]\n   \n   ;; Key moments that shaped the conversation\n   :key-moments\n   {:major-shifts \n    [{:turn \"Hey. I'm gonna see if I can say hello to CC.\"\n      :impact \"Initiated AI interaction sequence\"\n      :similarity-drop 0.39\n      :timestamp \"early\"}\n     {:turn \"yo, what do you know\"\n      :impact \"Casual testing of AI capabilities\" \n      :similarity-drop 0.27\n      :timestamp \"middle\"}\n     {:turn \"please use D` for 'D prime'\"\n      :impact \"Technical notation discussion\"\n      :similarity-drop 0.16\n      :timestamp \"late\"}]\n    \n    :callbacks\n    [{:turn \"Thank you Karl. I'd be happy to facilitate an Evaporating Cloud exercise.\"\n      :impact \"AI returning to facilitation role\"\n      :connects-to \"earlier facilitation attempts\"}\n     {:turn \"did you get that\"\n      :impact \"Checking communication/understanding\"\n      :connects-to \"ongoing interaction patterns\"}]\n    \n    :outliers\n    [{:turn \"please use D` for 'D prime'\"\n      :uniqueness 0.16\n      :why \"Highly specific mathematical notation\"}\n     {:turn \"here is my website\" \n      :uniqueness 0.16\n      :why \"Personal resource sharing\"}\n     {:turn \"we want to discuss the licensing of LLMs or Not\"\n      :uniqueness 0.17\n      :why \"Legal/business topic emergence\"}]}})\n\n(defn energy-color [energy]\n  (case energy\n    \"building\" \"#4ade80\"   ; green\n    \"peak\" \"#f59e0b\"       ; amber  \n    \"focused\" \"#3b82f6\"    ; blue\n    \"organizing\" \"#8b5cf6\" ; purple\n    \"#6b7280\"))            ; gray default\n\n(defn segment-card [segment]\n  [:div.bg-white.rounded-lg.shadow-md.p-4.mb-4.border-l-4\n   {:style {:border-left-color (energy-color (:energy segment))}}\n   \n   [:div.flex.justify-between.items-start.mb-2\n    [:h3.text-lg.font-semibold.text-gray-800 (:title segment)]\n    [:span.text-sm.text-gray-500 (:duration segment)]]\n   \n   [:div.flex.flex-wrap.gap-2.mb-3\n    (for [theme (:key-themes segment)]\n      ^{:key theme}\n      [:span.px-2.py-1.bg-gray-100.text-gray-700.text-xs.rounded-full theme])]\n   \n   [:div.bg-gray-50.p-3.rounded.mb-3\n    [:p.text-sm.italic.text-gray-600 \n     \"\\\"\" (:representative-content segment) \"\\\"\"]\n    [:p.text-xs.text-gray-500.mt-1 \n     \"Significance: \" (:significance segment)]]\n   \n   [:div.flex.justify-between.text-sm.text-gray-500\n    [:span (str (:turn-count segment) \" turns\")]\n    [:span (str \"Phases \" (first (:phases segment)) \"-\" (last (:phases segment)))]\n    [:span.flex.items-center\n     [:div.w-2.h-2.rounded-full.mr-1 {:style {:background-color (energy-color (:energy segment))}}]\n     (str (:energy segment) \" energy\")]]])\n\n(defn key-moment-badge [moment type]\n  [:div.bg-blue-50.border.border-blue-200.rounded-lg.p-3.mb-2\n   [:div.flex.justify-between.items-start.mb-1\n    [:span.text-xs.font-medium.text-blue-600.uppercase type]\n    (when (:similarity-drop moment)\n      [:span.text-xs.text-gray-500 \n       (str \"Drop: \" (:similarity-drop moment))])]\n   \n   [:p.text-sm.text-gray-700.mb-1 \n    \"\\\"\" (:turn moment) \"\\\"\"]\n   \n   [:p.text-xs.text-gray-600.italic (:impact moment)]\n   \n   (when (:connects-to moment)\n     [:p.text-xs.text-blue-600.mt-1 \n      \"\u21b3 \" (:connects-to moment)])\n   \n   (when (:why moment)\n     [:p.text-xs.text-orange-600.mt-1 \n      \"\u26a1 \" (:why moment)])])\n\n(defn story-arc-component []\n  (let [data sample-meeting-data]\n    [:div.max-w-4xl.mx-auto.p-6\n     \n     ;; Header\n     [:div.bg-gradient-to-r.from-blue-500.to-purple-600.text-white.rounded-lg.p-6.mb-6\n      [:h1.text-2xl.font-bold.mb-2 \"Conversation Story Arc\"]\n      [:p.text-blue-100.mb-4 (:narrative (:story-arc data))]\n      \n      [:div.grid.grid-cols-2.md:grid-cols-4.gap-4.text-center\n       [:div\n        [:div.text-2xl.font-bold (get-in data [:analysis-summary :turns-analyzed])]\n        [:div.text-sm.text-blue-200 \"Turns\"]]\n       [:div  \n        [:div.text-2xl.font-bold (get-in data [:analysis-summary :major-topic-shifts])]\n        [:div.text-sm.text-blue-200 \"Topic Shifts\"]]\n       [:div\n        [:div.text-2xl.font-bold (get-in data [:analysis-summary :conversation-phases])]\n        [:div.text-sm.text-blue-200 \"Phases\"]]\n       [:div\n        [:div.text-2xl.font-bold (str (get-in data [:analysis-summary :continuous-segments-percent]) \"%\")]\n        [:div.text-sm.text-blue-200 \"Continuous\"]]]]\n     \n     ;; Story Timeline\n     [:div.mb-8\n      [:h2.text-xl.font-semibold.text-gray-800.mb-4 \"Story Timeline\"]\n      (for [segment (:story-segments data)]\n        ^{:key (:segment-id segment)}\n        [segment-card segment])]\n     \n     ;; Key Moments\n     [:div.grid.md:grid-cols-3.gap-6\n      \n      ;; Topic Shifts\n      [:div\n       [:h3.text-lg.font-semibold.text-gray-800.mb-3 \"\ud83d\udd00 Major Topic Shifts\"]\n       (for [[idx moment] (map-indexed vector (get-in data [:key-moments :major-shifts]))]\n         ^{:key idx}\n         [key-moment-badge moment \"topic shift\"])]\n      \n      ;; Callbacks  \n      [:div\n       [:h3.text-lg.font-semibold.text-gray-800.mb-3 \"\ud83d\udd04 Callback Moments\"]\n       (for [[idx moment] (map-indexed vector (get-in data [:key-moments :callbacks]))]\n         ^{:key idx}\n         [key-moment-badge moment \"callback\"])]\n      \n      ;; Outliers\n      [:div\n       [:h3.text-lg.font-semibold.text-gray-800.mb-3 \"\u26a1 Unique Moments\"]\n       (for [[idx moment] (map-indexed vector (get-in data [:key-moments :outliers]))]\n         ^{:key idx}\n         [key-moment-badge moment \"outlier\"])]]\n     \n     ;; Conversation Insights\n     [:div.bg-gray-50.rounded-lg.p-6.mt-8\n      [:h3.text-lg.font-semibold.text-gray-800.mb-3 \"\ud83d\udcca Conversation Insights\"]\n      [:div.grid.md:grid-cols-2.gap-4\n       [:div\n        [:h4.font-medium.text-gray-700.mb-2 \"Flow Characteristics\"]\n        [:ul.text-sm.text-gray-600.space-y-1\n         [:li (str \"\u2022 Coherence: \" (get-in data [:analysis-summary :coherence :level]) \n                  \" (\" (get-in data [:analysis-summary :coherence :score]) \")\")]\n         [:li (str \"\u2022 Flow: \" (get-in data [:analysis-summary :flow-stability]))]\n         [:li (str \"\u2022 Arc Type: \" (get-in data [:story-arc :arc-type]))]]]\n       \n       [:div\n        [:h4.font-medium.text-gray-700.mb-2 \"Story Pattern\"]\n        [:p.text-sm.text-gray-600 \n         \"This conversation shows a classic \\\"experimental exploration\\\" pattern - \"\n         \"participants actively testing AI capabilities with rapid topic switching, \"\n         \"followed by attempts at structured facilitation. The high energy and low \"\n         \"coherence indicate genuine curiosity-driven exploration rather than \"\n         \"goal-directed discussion.\"]]]]]))\n\n;; Re-frame events and subscriptions\n(rf/reg-event-db\n :story-arc/set-selected-segment\n (fn [db [_ segment-id]]\n   (assoc-in db [:story-arc :selected-segment] segment-id)))\n\n(rf/reg-event-db  \n :story-arc/toggle-moment-details\n (fn [db [_ moment-id]]\n   (update-in db [:story-arc :expanded-moments] \n              (fn [expanded] \n                (if (expanded moment-id)\n                  (disj expanded moment-id)\n                  (conj (or expanded #{}) moment-id))))))\n\n(rf/reg-sub\n :story-arc/selected-segment\n (fn [db]\n   (get-in db [:story-arc :selected-segment])))\n\n(rf/reg-sub\n :story-arc/expanded-moments  \n (fn [db]\n   (get-in db [:story-arc :expanded-moments] #{})))\n\n(defn mount-component []\n  [story-arc-component])"]}